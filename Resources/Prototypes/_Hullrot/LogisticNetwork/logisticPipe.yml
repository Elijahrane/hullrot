- type: entity
  id: LogisticPipe
  parent: BaseItem
  name: Logistic Pipe
  description: Transports shit.
  placement:
    mode: SnapgridCenter
  components:
  - type: Item
    size: Normal
  - type: Transform
    anchored: true
  - type: Damageable
    damageContainer: StructuralInorganic
    damageModifierSet: Metallic
  - type: SubFloorHide
  - type: CollideOnAnchor
  - type: PipeAppearance
  - type: Anchorable
  - type: Destructible
    thresholds:
    - trigger: # for nukes
        !type:DamageTrigger
        damage: 200
      behaviors:
      - !type:DoActsBehavior
        acts: ["Destruction"]
    - trigger: # regular damage trigger (replace with broken pipe)
        !type:DamageTrigger
        damage: 100
      behaviors:
      - !type:PlaySoundBehavior
        sound:
          collection: MetalBreak
          params:
            volume: -8
      - !type:SpawnEntitiesBehavior
        spawn:
          GasPipeBroken:
            min: 1
            max: 1
        offset: 0
      - !type:DoActsBehavior
        acts: ["Breakage"]
  - type: Sprite
    sprite: Hullrot\LogisticNetworks\LogisticPipes.rsi
    layers:
    - state: 0way
      map: ["enum.LogisticVisualLayout.way0"]
      visible: false
    - state: 1way
      map: ["enum.LogisticVisualLayout.way1"]
      visible: false
    - state: 2way
      map: ["enum.LogisticVisualLayout.way2"]
      visible: false
    - state: 3way
      map: ["enum.LogisticVisualLayout.way3"]
      visible: false
    - state: 4way
      map: ["enum.LogisticVisualLayout.way4"]
      visible: false
  - type: LogisticPipe
  - type: Appearance
  - type: Physics
    canCollide: false
    bodyType: static
  - type: StaticPrice
    price: 30
